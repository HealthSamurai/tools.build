<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clojure.tools.build.api documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name"></span> <span class="project-version"></span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="clojure.tools.build.api.html"><div class="inner"><span>clojure.tools.build.api</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clojure.tools.build.api.html#var-*project-root*"><div class="inner"><span>*project-root*</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-compile-clj"><div class="inner"><span>compile-clj</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-copy"><div class="inner"><span>copy</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-copy-file"><div class="inner"><span>copy-file</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-delete"><div class="inner"><span>delete</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-git-count-revs"><div class="inner"><span>git-count-revs</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-install"><div class="inner"><span>install</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-jar"><div class="inner"><span>jar</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-javac"><div class="inner"><span>javac</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-load-basis"><div class="inner"><span>load-basis</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-process"><div class="inner"><span>process</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-resolve-path"><div class="inner"><span>resolve-path</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-set-project-root.21"><div class="inner"><span>set-project-root!</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-sync-pom"><div class="inner"><span>sync-pom</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-uber"><div class="inner"><span>uber</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-write-file"><div class="inner"><span>write-file</span></div></a></li><li class="depth-1"><a href="clojure.tools.build.api.html#var-zip"><div class="inner"><span>zip</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clojure.tools.build.api</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-*project-root*"><h3>*project-root*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Project root path, defaults to current directory.
Use `resolve-path` to resolve relative paths in terms of the *project-root*.
Use `set-project-root!` to override the default for all tasks.</pre></div></div><div class="public anchor" id="var-compile-clj"><h3>compile-clj</h3><div class="usage"><code>(compile-clj params)</code></div><div class="doc"><pre class="plaintext">Compile Clojure source to classes.

Options:
  :basis - required, basis to use when compiling
  :clj-dirs - required, coll of Clojure source dirs
  :class-dir - required, dir to write classes, will be created if needed
  :compile-opts - map of Clojure compiler options:
    {:disable-locals-clearing false
     :elide-meta [:doc :file :line ...]
     :direct-linking false}
  :ns-compile - coll of namespace symbols to compile, all if not specified
  :filter-nses - coll of symbols representing a namespace prefix to include</pre></div></div><div class="public anchor" id="var-copy"><h3>copy</h3><div class="usage"><code>(copy params)</code></div><div class="doc"><pre class="plaintext">Copy many files and optionally do text replacement.

Options:
  :target-dir - required, dir to write files, will be created if it doesn't exist
  :src-specs - required, coll of specs: {:src-dir ... :include ... :replace ...}
    :src-dir - dir to find files to copy
    :include - glob of files to include, all = "**"
    :replace - map of string in source file to replacement string</pre></div></div><div class="public anchor" id="var-copy-file"><h3>copy-file</h3><div class="usage"><code>(copy-file {:keys [src target], :as params})</code></div><div class="doc"><pre class="plaintext">Copy one file from source to target, creating target dirs if needed.

Options:
  :src - required, source path
  :target - required, target path</pre></div></div><div class="public anchor" id="var-delete"><h3>delete</h3><div class="usage"><code>(delete {:keys [path], :as params})</code></div><div class="doc"><pre class="plaintext">Delete file or directory recursively, if it exists.

Options:
  :path - required, path to file or directory</pre></div></div><div class="public anchor" id="var-git-count-revs"><h3>git-count-revs</h3><div class="usage"><code>(git-count-revs {:keys [dir], :or {dir "."}, :as params})</code></div><div class="doc"><pre class="plaintext">Shells out to git to count the number of commits on this branch:
git rev-list HEAD --count

Options:
  :dir - dir to invoke this command from, by default current directory</pre></div></div><div class="public anchor" id="var-install"><h3>install</h3><div class="usage"><code>(install params)</code></div><div class="doc"><pre class="plaintext">Install Maven jar to local repo.

Options:
  :basis - required, used for :mvn/local-repo
  :lib - required, lib symbol
  :classifier - classifier string, if needed
  :version - required, string version
  :jar-file - required, path to jar file
  :class-dir - required, used to find the pom file</pre></div></div><div class="public anchor" id="var-jar"><h3>jar</h3><div class="usage"><code>(jar params)</code></div><div class="doc"><pre class="plaintext">Create jar file.

Options:
  :class-dir - required, dir to include in jar
  :jar-file - required, jar to write
  :main - main class symbol</pre></div></div><div class="public anchor" id="var-javac"><h3>javac</h3><div class="usage"><code>(javac params)</code></div><div class="doc"><pre class="plaintext">Compile Java source to classes.

Options:
  :java-dirs - required, coll of Java source dirs
  :class-dir - required, dir to write classes, will be created if needed
  :basis - classpath basis to use when compiling
  :javac-opts - coll of string opts, like ["-source" "8" "-target" "8"]</pre></div></div><div class="public anchor" id="var-load-basis"><h3>load-basis</h3><div class="usage"><code>(load-basis)</code><code>(load-basis params)</code></div><div class="doc"><pre class="plaintext">Load the project basis (classpath context based on project deps.edn)
and returns it.

Options:
  :deps-file - path to deps file, default = deps.edn</pre></div></div><div class="public anchor" id="var-process"><h3>process</h3><div class="usage"><code>(process params)</code></div><div class="doc"><pre class="plaintext">Exec the command made from command-args, redirect out and err as directed,
and return {:exit exit-code, :out captured-out, :err captured-err}

Options:
  :command-args - required, coll of string args
  :dir - directory to run the command from, default current directory
  :out - one of :inherit :capture :write :append :ignore
  :err - one of :inherit :capture :write :append :ignore
  :out-file - file path to write if :out is :write or :append
  :err-file - file path to write if :err is :write or :append
  :env - map of environment variables to set

The :out and :err input flags take one of the following options:
  :inherit - inherit the stream and write the subprocess io to this process's stream (default)
  :capture - capture the stream to a string and return it
  :write - write to :out-file or :err-file
  :append - append to :out-file or :err-file
  :ignore - ignore the stream</pre></div></div><div class="public anchor" id="var-resolve-path"><h3>resolve-path</h3><div class="usage"><code>(resolve-path path)</code></div><div class="doc"><pre class="plaintext">If path is absolute or root-path is nil then return path,
otherwise resolve path under root-path.</pre></div></div><div class="public anchor" id="var-set-project-root.21"><h3>set-project-root!</h3><div class="usage"><code>(set-project-root! root)</code></div><div class="doc"><pre class="plaintext">Set project root dir (default is ".")
</pre></div></div><div class="public anchor" id="var-sync-pom"><h3>sync-pom</h3><div class="usage"><code>(sync-pom params)</code></div><div class="doc"><pre class="plaintext">Sync or generate pom from deps.edn.

Options:
  :basis - required, used to pull deps, repos
  :class-dir - required, dir to write classes, will be created if needed
  :src-pom - source pom.xml to synchronize from
  :lib - required, project lib symbol
  :version - required, project version
  :src-dirs - coll of src dirs
  :resource-dirs - coll of resource dirs
  :repos - map of repo name to repo config, replaces repos from deps.edn</pre></div></div><div class="public anchor" id="var-uber"><h3>uber</h3><div class="usage"><code>(uber params)</code></div><div class="doc"><pre class="plaintext">Create uberjar file.

Options:
  :class-dir - required, local class dir to include
  :uber-file - required, uber jar file to create
  :basis - used to pull dep jars
  :main - main class symbol</pre></div></div><div class="public anchor" id="var-write-file"><h3>write-file</h3><div class="usage"><code>(write-file {:keys [path content opts], :as params})</code></div><div class="doc"><pre class="plaintext">Like spit, but create dirs if needed.

Options:
  :path - required, file path
  :content - val to write, will pr-str (if omitted, like touch)
  :opts - coll of writer opts like :append and :encoding</pre></div></div><div class="public anchor" id="var-zip"><h3>zip</h3><div class="usage"><code>(zip params)</code></div><div class="doc"><pre class="plaintext">Create zip file.

Options:
  :src-dirs - required, coll of source directories to include in zip
  :zip-file - required, zip file to create</pre></div></div></div></body></html>